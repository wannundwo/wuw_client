<ion-view view-title="{{'setup.title' | translate}}">
    <ion-nav-buttons side="secondary">
        <button ng-click="saveSetup()" class="button button-positive">{{'global.done' | translate}}</button>
    </ion-nav-buttons>
    <ion-content>
        <ion-list>

            <ion-item class="item-text-wrap">
                <p> {{'setup.info' | translate}} </p>
            </ion-item>

            <ion-item ng-if="showErrorMessage">
                {{'setup.error' | translate}}
                <button class="button button-outline button-block button-positive" ng-click="load()">
                    {{'setup.retry' | translate}}
                </button>
            </ion-item>

            <div ng-repeat="group in groups">
                <ion-item style="padding: 0;" class="item-actived-background-transition item-checkbox">

                    <div style="width: 1px; margin-top: -13px; padding: 0;" class="checkbox">
                        <input ng-model="group.allChosen"
                               indeterminate-checkbox
                               child-list="group.lectures"
                               property="chosen"
                               class="group-checkbox"
                               style="width: 28px;" type="checkbox">
                        </input>
                    </div>
                    <div style="padding: 15px; padding-left: 50px;" ng-click="group.shown = !group.shown;">
                        {{group._id}}
                        <i style="float: right; margin-top: 3px" class="icon"
                           ng-class="group.shown ? 'ion-ios-arrow-up' : 'ion-ios-arrow-down'">
                        </i>
                    </div>

                </ion-item>
                <ion-checkbox class="checkbox-inset item-accordion"
                              ng-repeat="lecture in group.lectures"
                              ng-show="group.shown"
                              ng-model="lecture.chosen">
                    {{lecture.lectureName}}
                </ion-checkbox>
            </div>
        </ion-list>
    </ion-content>
</ion-view>
