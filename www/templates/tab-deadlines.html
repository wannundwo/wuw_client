<ion-view view-title="Deadlines">
    <ion-nav-buttons side="secondary">
        <a class="button button-icon icon ion-ios-plus-outline" href="#/tab/createDeadline"></a>
    </ion-nav-buttons>
    <ion-content>
        <ion-refresher
            pulling-text="Pull to refresh..."
            on-refresh="doRefresh()">
        </ion-refresher>
        <ion-list>
            <div ng-repeat="(key, value) in deadlines | filter:isNotRemoved | groupBy: 'done'">
                <div class="item item-divider" >
                    <span ng-if="key === 'false'">Unfinished ({{value.length}})</span>
                    <span ng-if="key === 'true'">Done ({{value.length}})</span>
                </div>
                <ion-item class="item-text-wrap" ng-repeat="deadline in value | orderBy:'deadline'" type="item-text-wrap" href="#/tab/deadlines/{{deadline._id}}">
                    <h2>
                        <b>{{deadline.info}}</b> in <b>{{deadline.group}}</b>
                        <div>
                            due on <b>{{deadline.deadline | date: 'EEE, dd.MM.yyyy'}}</b>
                        </div>
                    </h2>
                </ion-item>
            </div>
        </ion-list>
    </ion-content>
</ion-view>
