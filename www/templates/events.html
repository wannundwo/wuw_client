<ion-view view-title="{{'global.events' | translate}}">
    <ion-nav-buttons side="secondary">
    </ion-nav-buttons>
    <ion-content>
        <ion-refresher
            pulling-text="{{'global.pullToRefresh' | translate}}"
            on-refresh="loadEvents()">
        </ion-refresher>
        <ion-list>
            <ion-item ng-show="initialLoading" style="test-align: center;">
                <div style="margin: 0 auto; width:28px">
                    <ion-spinner></ion-spinner>
                </div>
            </ion-item>
            <ion-item ng-click="openEvent('{{item.url}}')" ng-repeat="item in events" class="item-text-wrap">
                    <p>{{item.contact}}</p>
                <h2 class="clear-float">
                    <b>{{item.title}}</b>
                </h2>
                    <p>
                        <!--  date -->
                        <span ng-if="item.startTime">{{item.startTime | date:'dd.MM.yyyy'}}</span>
                        <span ng-if="item.endTime"> - {{item.endTime | date:'dd.MM.yyyy'}}<br></span>

                        <!-- time -->
                        <span ng-if="item.hasTime">{{item.startTime | date:'HH:mm'}} Uhr</span>
                        <span ng-if="item.endTime && item.hasTime"> - {{item.endTime | date:'HH:mm'}} Uhr
                    </p>
                    <p>{{item.location}}</p>
                    <p>{{item.descr}}</p>
                    <div ng-bind-html="item.text"></div>
            </ion-item>
        </ion-list>
    </ion-content>
</ion-view>
